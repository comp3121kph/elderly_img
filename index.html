<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>title</title>
	<script src="https://code.jquery.com/jquery-1.10.2.js"></script>
	<script async defer>
		
		(function() {
			var API = "pins.json";
			var getId = [];
			//var API1 = "https://api.pinterest.com/v1/boards/jingtiancai/%E9%95%B7%E8%BC%A9%E5%9C%96/pins/?access_token=AnLuO-u9pJv_epz8CeWBB-XhC80MFZQKaVE8tI1FwlOD2gCimghGQDAAAjkORcJTtSzgouoAAAAA&fields=id";
			//var API = "https://api.pinterest.com/v1/boards/chankithang/%E9%95%B7%E8%BC%A9%E5%9C%96/pins/?access_token=AnLuO-u9pJv_epz8CeWBB-XhC80MFZQKaVE8tI1FwlOD2gCimghGQDAAAjkORcJTtSzgouoAAAAA&fields=id";
			$.getJSON( API, {
				tags: "mount rainier",
				tagmode: "any",
				format: "json"
			})
				.done(function( data ) {
					$.each( data.data, function( i, item ) {
						getId.push(item.id);
					});
					
					getId = shuffle(getId);
					var i;
					for(i = 0; i<getId.length;i++){
						var a = document.createElement('a');
						a.setAttribute("data-pin-do", "embedPin");
						a.href = "https://www.pinterest.com/pin/"+getId[i]+"/";
						document.body.appendChild(a);
					}
					
				});
		})();
		
		function shuffle(array) {
			var currentIndex = array.length, temporaryValue, randomIndex;

			// While there remain elements to shuffle...
			while (0 !== currentIndex) {

			// Pick a remaining element...
			randomIndex = Math.floor(Math.random() * currentIndex);
			currentIndex -= 1;

			// And swap it with the current element.
			temporaryValue = array[currentIndex];
			array[currentIndex] = array[randomIndex];
			array[randomIndex] = temporaryValue;
			}

			return array;
		}
		
	</script>
	
	<script>
		window.fbAsyncInit = function () {
			FB.init({
				appId: '287885635463689', 
				cookie: true,  
				xfbml: true,  
				version: 'v3.2' 
			});
			
			FB.AppEvents.logPageView();
			
			var page_id = 'elderpic';
			var access_token = '287885635463689|dpqBKQ6fd9N3laDam1pgHyKcwvc';
			
			FB.api(
			'/' + page_id + '/feed/', 'get',
			{
				fields: 'permalink_url',
				access_token: access_token
			},
			function (response){
				if (response && !response.error){
					let posts = response.data;
					posts.map(function(post){
						var post_url = post.permalink_utl;
						var post_id = post.id;
						
						var root_div = document.getElementById("facebook");
						var post_div = document.createElement("div");
			
						root_div.innerHTML += "<div class =\"fb-post\" data-href=\"" + post_url + "\" data-width=\"500\"></div> <br></br>";
					})
				}
			}
			);	
		};
		
		(function (d, s, id) {
			var js, fjs = d.getElementsByTagName(s)[0];
			if (d.getElementById(id)) return;
			js = d.createElement(s); js.id = id;
			js.src = "https://connect.facebook.net/en_US/sdk.js";
			fjs.parentNode.insertBefore(js, fjs);
		}(document, 'script', 'facebook-jssdk'));
		
		
	</script>
  </head>
  <body>
	<script async defer src="//assets.pinterest.com/js/pinit.js"> </script>
	<div id="facebook"></div>
  </body>
</html>